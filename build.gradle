plugins {
    id 'java'
    id "me.champeau.jmh" version "0.6.6"
}

apply plugin: 'idea'
apply plugin: 'application'

group 'com.carlmastrangelo'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.slf4j:slf4j-api:1.7.30'
    runtimeOnly 'ch.qos.logback:logback-classic:1.2.3'

    compileOnly 'com.google.errorprone:error_prone_core:2.8.1'

    testImplementation group: 'junit', name: 'junit', version: '4.13'
    testImplementation group: 'com.google.truth', name: 'truth', version: '1.1.3'

}

jmh {
    timeOnIteration = "1s"
    warmup = "1s"
    fork = 1
    warmupIterations = 10
    //include = ["LogBenchmark"]
    //duplicateClassesStrategy = 'exclude'
}

jmhJar {

    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
}

tasks.withType(JavaCompile).configureEach {
    //sourceCompatibility(JavaVersion.VERSION_17)
    //targetCompatibility(JavaVersion.VERSION_17)
}


application {
    mainClass = 'com.carlmastrangelo.freecell.FreeCell'
}
